{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./templates/assets/pwa-page.js","webpack:///external \"lodash\""],"names":["_","require","apiRoot","wcpwa","apiUrl","now","Date","processAndRenderScheduleData","data","isArray","tracks","map","track","sessionsInTrack","sortBy","filter","sessions","session","session_track","includes","id","sessionInTrack","meta","_wcpt_session_time","indexOfNextSession","findIndex","nextSession","nowSession","next","renderSchedule","onNow","document","getElementById","upNext","innerHTML","forEach","renderSession","container","sessionContainer","createElement","setAttribute","renderSessionTitle","renderSessionTime","renderSessionTrack","renderSessionSpeakers","renderSessionCategory","appendChild","time","session_date_time","title","titleLink","link","rendered","trackName","name","speakers","_embedded","speaker","speakerLink","category","terms","keyBy","flatten","session_category","length","sc","term","renderLatestPosts","posts","post","renderPost","postContainer","renderPostDate","renderPostTitle","renderPostExcerpt","renderPostCategories","postDate","date_gmt","toLocaleDateString","excerpt","categories","c","init","Promise","all","fetch","then","response","json","catch","error","console","log","setInterval"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;ACnEA,IAAMA,CAAC,GAAGC,mBAAO,CAAE,sBAAF,CAAjB;;AAEA,IAAMC,OAAO,GAAGC,KAAK,CAACC,MAAtB,C,CAA8B;;AAC9B,IAAMC,GAAG,GAAG,IAAIC,IAAJ,EAAZ;;AAEA,IAAMC,4BAA4B,GAAG,SAA/BA,4BAA+B,CAAEC,IAAF,EAAY;AAEhD,MAAK,CAAER,CAAC,CAACS,OAAF,CAAWD,IAAI,CAACE,MAAhB,CAAP,EAAkC;AACjC;AACA,GAJ+C,CAI/C;;;AAED,MAAMA,MAAM,GAAGF,IAAI,CAACE,MAAL,CAAYC,GAAZ,CAAiB,UAAEC,KAAF,EAAa;AAC5C,QAAMC,eAAe,GAAGb,CAAC,CAACc,MAAF,CACvBd,CAAC,CAACe,MAAF,CACCP,IAAI,CAACQ,QADN,EAEC,UAAEC,OAAF;AAAA,aAAeA,OAAO,CAACC,aAAR,CAAsBC,QAAtB,CAAgCP,KAAK,CAACQ,EAAtC,CAAf;AAAA,KAFD,CADuB,EAKvB,UAAEC,cAAF;AAAA,aAAsBA,cAAc,CAACC,IAAf,CAAoBC,kBAA1C;AAAA,KALuB,CAAxB;;AAQA,QAAMC,kBAAkB,GAAGxB,CAAC,CAACyB,SAAF,CAC1BZ,eAD0B,EAE1B,UAAEI,OAAF;AAAA,aAAeZ,GAAG,GAAG,IAAIC,IAAJ,CAAUW,OAAO,CAACK,IAAR,CAAaC,kBAAb,GAAkC,IAA5C,CAArB;AAAA,KAF0B,CAA3B;;AAKA,QAAMG,WAAW,GAAGb,eAAe,CAAEW,kBAAF,CAAnC;AACA,QAAMG,UAAU,GAAGd,eAAe,CAAEW,kBAAkB,GAAG,CAAvB,CAAlC;AAEA,WAAO;AACNZ,WAAK,EAALA,KADM;AAENP,SAAG,EAAEsB,UAFC;AAGNC,UAAI,EAAEF;AAHA,KAAP;AAKA,GAtBc,CAAf;AAuBAG,gBAAc,CAAEnB,MAAF,CAAd;AACA,CA9BD;;AAgCA,IAAMmB,cAAc,GAAG,SAAjBA,cAAiB,CAAEnB,MAAF,EAAc;AAEpC,MAAMoB,KAAK,GAAGC,QAAQ,CAACC,cAAT,CAAyB,QAAzB,CAAd;AACA,MAAMC,MAAM,GAAGF,QAAQ,CAACC,cAAT,CAAyB,SAAzB,CAAf;AAEAF,OAAK,CAACI,SAAN,GAAkB,EAAlB;AACAD,QAAM,CAACC,SAAP,GAAmB,EAAnB;AAEAxB,QAAM,CAACyB,OAAP,CAAgB,UAAEvB,KAAF,EAAa;AAC5BwB,iBAAa,CAAExB,KAAK,CAACP,GAAR,EAAaO,KAAK,CAACA,KAAnB,EAA0BkB,KAA1B,CAAb;AACAM,iBAAa,CAAExB,KAAK,CAACgB,IAAR,EAAchB,KAAK,CAACA,KAApB,EAA2BqB,MAA3B,CAAb;AACA,GAHD;AAKA,CAbD;;AAeA,IAAMG,aAAa,GAAG,SAAhBA,aAAgB,CAAEnB,OAAF,EAAWL,KAAX,EAAkByB,SAAlB,EAAiC;AAEtD,MAAMC,gBAAgB,GAAGP,QAAQ,CAACQ,aAAT,CAAwB,KAAxB,CAAzB;AACAD,kBAAgB,CAACE,YAAjB,CAA+B,OAA/B,EAAwC,2BAAxC;AAEAC,oBAAkB,CAAExB,OAAF,EAAWqB,gBAAX,CAAlB;AACAI,mBAAiB,CAAEzB,OAAF,EAAWqB,gBAAX,CAAjB;AACAK,oBAAkB,CAAE/B,KAAF,EAAS0B,gBAAT,CAAlB;AACAM,uBAAqB,CAAE3B,OAAF,EAAWqB,gBAAX,CAArB;AACAO,uBAAqB,CAAE5B,OAAF,EAAWqB,gBAAX,CAArB;AAEAD,WAAS,CAACS,WAAV,CAAuBR,gBAAvB;AAEA,CAbD;;AAeA,IAAMI,iBAAiB,GAAG,SAApBA,iBAAoB,CAAEzB,OAAF,EAAWoB,SAAX,EAA0B;AACnD,MAAMU,IAAI,GAAGhB,QAAQ,CAACQ,aAAT,CAAwB,MAAxB,CAAb;AACAQ,MAAI,CAACP,YAAL,CAAmB,OAAnB,EAA4B,gCAA5B;AACAO,MAAI,CAACb,SAAL,GAAiBjB,OAAO,CAAC+B,iBAAR,CAA0BD,IAA3C;AACAV,WAAS,CAACS,WAAV,CAAuBC,IAAvB;AACA,CALD;;AAOA,IAAMN,kBAAkB,GAAG,SAArBA,kBAAqB,CAAExB,OAAF,EAAWoB,SAAX,EAA0B;AAEpD,MAAMY,KAAK,GAAGlB,QAAQ,CAACQ,aAAT,CAAwB,IAAxB,CAAd;AACAU,OAAK,CAACT,YAAN,CAAoB,OAApB,EAA6B,iCAA7B;AAEA,MAAMU,SAAS,GAAGnB,QAAQ,CAACQ,aAAT,CAAwB,GAAxB,CAAlB;AACAW,WAAS,CAACV,YAAV,CAAwB,MAAxB,EAAgCvB,OAAO,CAACkC,IAAxC;AACAD,WAAS,CAAChB,SAAV,GAAsBjB,OAAO,CAACgC,KAAR,CAAcG,QAApC;AAEAH,OAAK,CAACH,WAAN,CAAmBI,SAAnB;AACAb,WAAS,CAACS,WAAV,CAAuBG,KAAvB;AAEA,CAZD;;AAcA,IAAMN,kBAAkB,GAAG,SAArBA,kBAAqB,CAAE/B,KAAF,EAASyB,SAAT,EAAwB;AAClD,MAAMgB,SAAS,GAAGtB,QAAQ,CAACQ,aAAT,CAAwB,MAAxB,CAAlB;AACAc,WAAS,CAACb,YAAV,CAAwB,OAAxB,EAAiC,iCAAjC;AACAa,WAAS,CAACnB,SAAV,GAAsBtB,KAAK,CAAC0C,IAA5B;AACAjB,WAAS,CAACS,WAAV,CAAuBO,SAAvB;AACA,CALD;;AAOA,IAAMT,qBAAqB,GAAG,SAAxBA,qBAAwB,CAAE3B,OAAF,EAAWoB,SAAX,EAA0B;AAEvD,MAAMkB,QAAQ,GAAGxB,QAAQ,CAACQ,aAAT,CAAwB,MAAxB,CAAjB;AACAgB,UAAQ,CAACf,YAAT,CAAuB,OAAvB,EAAgC,mCAAhC;;AAEA,MAAKvB,OAAO,CAACuC,SAAR,CAAkBD,QAAvB,EAAkC;AACjCtC,WAAO,CAACuC,SAAR,CAAkBD,QAAlB,CAA2BpB,OAA3B,CAAoC,UAAEsB,OAAF,EAAe;AAClD,UAAMC,WAAW,GAAG3B,QAAQ,CAACQ,aAAT,CAAwB,GAAxB,CAApB;AACAmB,iBAAW,CAAClB,YAAZ,CAA0B,MAA1B,EAAkCiB,OAAO,CAACN,IAA1C;AACAO,iBAAW,CAACxB,SAAZ,GAAwBuB,OAAO,CAACR,KAAR,CAAcG,QAAtC;AACAG,cAAQ,CAACT,WAAT,CAAsBY,WAAtB;AACA,KALD;AAMA,GAZsD,CAYtD;;;AAEDrB,WAAS,CAACS,WAAV,CAAuBS,QAAvB;AAEA,CAhBD;;AAkBA,IAAMV,qBAAqB,GAAG,SAAxBA,qBAAwB,CAAE5B,OAAF,EAAWoB,SAAX,EAA0B;AAEvD,MAAMsB,QAAQ,GAAG5B,QAAQ,CAACQ,aAAT,CAAwB,MAAxB,CAAjB;AACAoB,UAAQ,CAACnB,YAAT,CAAuB,OAAvB,EAAgC,oCAAhC;;AAEA,MAAMoB,KAAK,GAAG5D,CAAC,CAAC6D,KAAF,CAAS7D,CAAC,CAAC8D,OAAF,CAAW7C,OAAO,CAACuC,SAAR,CAAmB,SAAnB,CAAX,CAAT,EAAsD,IAAtD,CAAd;;AACA,MAAKvC,OAAO,CAAC8C,gBAAR,CAAyBC,MAAzB,GAAkC,CAAvC,EAA2C;AAC1C,QAAMC,EAAE,GAAGhD,OAAO,CAAC8C,gBAAR,CAA0B,CAA1B,CAAX;AACA,QAAMG,IAAI,GAAGN,KAAK,CAAEK,EAAF,CAAlB;AACAN,YAAQ,CAACzB,SAAT,GAAqBgC,IAAI,CAACZ,IAA1B;AACA,GAVsD,CAUtD;;;AAEDjB,WAAS,CAACS,WAAV,CAAuBa,QAAvB;AAEA,CAdD;;AAgBA,IAAMQ,iBAAiB,GAAG,SAApBA,iBAAoB,CAAEC,KAAF,EAAa;AACtC,MAAM/B,SAAS,GAAGN,QAAQ,CAACC,cAAT,CAAyB,cAAzB,CAAlB;AACAK,WAAS,CAACH,SAAV,GAAsB,EAAtB;AAEAkC,OAAK,CAACjC,OAAN,CAAe,UAAEkC,IAAF,EAAY;AAC1BC,cAAU,CAAED,IAAF,EAAQhC,SAAR,CAAV;AACA,GAFD;AAGA,CAPD;;AASA,IAAMiC,UAAU,GAAG,SAAbA,UAAa,CAAED,IAAF,EAAQhC,SAAR,EAAuB;AACzC,MAAMkC,aAAa,GAAGxC,QAAQ,CAACQ,aAAT,CAAwB,KAAxB,CAAtB;AACAgC,eAAa,CAAC/B,YAAd,CAA4B,OAA5B,EAAqC,sBAArC;AAEAgC,gBAAc,CAAEH,IAAF,EAAQE,aAAR,CAAd;AACAE,iBAAe,CAAEJ,IAAF,EAAQE,aAAR,CAAf;AACAG,mBAAiB,CAAEL,IAAF,EAAQE,aAAR,CAAjB;AACAI,sBAAoB,CAAEN,IAAF,EAAQE,aAAR,CAApB;AAEAlC,WAAS,CAACS,WAAV,CAAuByB,aAAvB;AACA,CAVD;;AAYA,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAAEH,IAAF,EAAQhC,SAAR,EAAuB;AAC7C,MAAMuC,QAAQ,GAAG7C,QAAQ,CAACQ,aAAT,CAAwB,MAAxB,CAAjB;AACAqC,UAAQ,CAACpC,YAAT,CAAuB,OAAvB,EAAgC,2BAAhC;AACAoC,UAAQ,CAAC1C,SAAT,GAAqB,IAAI5B,IAAJ,CAAU+D,IAAI,CAACQ,QAAf,EAA0BC,kBAA1B,EAArB;AACAzC,WAAS,CAACS,WAAV,CAAuB8B,QAAvB;AACA,CALD;;AAOA,IAAMH,eAAe,GAAG,SAAlBA,eAAkB,CAAEJ,IAAF,EAAQhC,SAAR,EAAuB;AAE9C,MAAMY,KAAK,GAAGlB,QAAQ,CAACQ,aAAT,CAAwB,IAAxB,CAAd;AACAU,OAAK,CAACT,YAAN,CAAoB,OAApB,EAA6B,4BAA7B;AAEA,MAAMU,SAAS,GAAGnB,QAAQ,CAACQ,aAAT,CAAwB,GAAxB,CAAlB;AACAW,WAAS,CAACV,YAAV,CAAwB,MAAxB,EAAgC6B,IAAI,CAAClB,IAArC;AACAD,WAAS,CAAChB,SAAV,GAAsBmC,IAAI,CAACpB,KAAL,CAAWG,QAAjC;AAEAH,OAAK,CAACH,WAAN,CAAmBI,SAAnB;AACAb,WAAS,CAACS,WAAV,CAAuBG,KAAvB;AAEA,CAZD;;AAcA,IAAMyB,iBAAiB,GAAG,SAApBA,iBAAoB,CAAEL,IAAF,EAAQhC,SAAR,EAAuB;AAChD,MAAM0C,OAAO,GAAGhD,QAAQ,CAACQ,aAAT,CAAwB,MAAxB,CAAhB;AACAwC,SAAO,CAACvC,YAAR,CAAsB,OAAtB,EAA+B,8BAA/B;AACAuC,SAAO,CAAC7C,SAAR,GAAoBmC,IAAI,CAACU,OAAL,CAAa3B,QAAjC;AACAf,WAAS,CAACS,WAAV,CAAuBiC,OAAvB;AACA,CALD;;AAOA,IAAMJ,oBAAoB,GAAG,SAAvBA,oBAAuB,CAAEN,IAAF,EAAQhC,SAAR,EAAuB;AAEnD,MAAM2C,UAAU,GAAGjD,QAAQ,CAACQ,aAAT,CAAwB,MAAxB,CAAnB;AACAyC,YAAU,CAACxC,YAAX,CAAyB,OAAzB,EAAkC,iCAAlC;;AAEA,MAAMoB,KAAK,GAAG5D,CAAC,CAAC6D,KAAF,CAAS7D,CAAC,CAAC8D,OAAF,CAAWO,IAAI,CAACb,SAAL,CAAgB,SAAhB,CAAX,CAAT,EAAmD,IAAnD,CAAd;;AACA,MAAKa,IAAI,CAACW,UAAL,CAAgBhB,MAAhB,GAAyB,CAA9B,EAAkC;AACjCK,QAAI,CAACW,UAAL,CAAgB7C,OAAhB,CAAyB,UAAE8C,CAAF,EAAS;AACjC,UAAMf,IAAI,GAAGN,KAAK,CAAEqB,CAAF,CAAlB;AAEA,UAAMtB,QAAQ,GAAG5B,QAAQ,CAACQ,aAAT,CAAwB,GAAxB,CAAjB;AACAoB,cAAQ,CAACnB,YAAT,CAAuB,MAAvB,EAA+B0B,IAAI,CAACf,IAApC;AACAQ,cAAQ,CAACzB,SAAT,GAAqBgC,IAAI,CAACZ,IAA1B;AAEA0B,gBAAU,CAAClC,WAAX,CAAwBa,QAAxB;AACA,KARD;AASA,GAhBkD,CAgBlD;;;AAEDtB,WAAS,CAACS,WAAV,CAAuBkC,UAAvB;AAEA,CApBD;;AAsBA,IAAME,IAAI,GAAG,SAAPA,IAAO,GAAM;AAClBC,SAAO,CAACC,GAAR,CAAa,CACZC,KAAK,CAAEnF,OAAO,GAAG,wDAAZ,CAAL,CAA4EoF,IAA5E,CAAkF,UAAEC,QAAF;AAAA,WAAgBA,QAAQ,CAACC,IAAT,EAAhB;AAAA,GAAlF,CADY,EAEZH,KAAK,CAAEnF,OAAO,GAAG,iDAAZ,CAAL,CAAqEoF,IAArE,CAA2E,UAAEC,QAAF;AAAA,WAAgBA,QAAQ,CAACC,IAAT,EAAhB;AAAA,GAA3E,CAFY,EAGZH,KAAK,CAAEnF,OAAO,GAAG,mDAAZ,CAAL,CAAuEoF,IAAvE,CAA6E,UAAEC,QAAF;AAAA,WAAgBA,QAAQ,CAACC,IAAT,EAAhB;AAAA,GAA7E,CAHY,CAAb,EAKEF,IALF,CAKQ,UAAE9E,IAAF,EAAY;AAClBD,gCAA4B,CAAE;AAC7BS,cAAQ,EAAER,IAAI,CAAE,CAAF,CADe;AAE7BE,YAAM,EAAEF,IAAI,CAAE,CAAF;AAFiB,KAAF,CAA5B;AAIA2D,qBAAiB,CAAE3D,IAAI,CAAE,CAAF,CAAN,CAAjB;AACA,GAXF,EAYEiF,KAZF,CAYS,UAAEC,KAAF,EAAa;AACpBC,WAAO,CAACC,GAAR,CAAa,SAAb,EAAwBF,KAAxB;AACA,GAdF;AAeA,CAhBD;;AAiBAR,IAAI;AACJW,WAAW,CAAEX,IAAF,EAAQ,KAAK,IAAb,CAAX,C;;;;;;;;;;;AC1NA,wB","file":"pwa-page.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./templates/assets/pwa-page.js\");\n","const _ = require( 'lodash' );\n\nconst apiRoot = wcpwa.apiUrl; // eslint-disable-line\nconst now = new Date();\n\nconst processAndRenderScheduleData = ( data ) => {\n\n\tif ( ! _.isArray( data.tracks ) ) {\n\t\treturn;\n\t}//end if\n\n\tconst tracks = data.tracks.map( ( track ) => {\n\t\tconst sessionsInTrack = _.sortBy(\n\t\t\t_.filter(\n\t\t\t\tdata.sessions,\n\t\t\t\t( session ) => session.session_track.includes( track.id )\n\t\t\t),\n\t\t\t( sessionInTrack ) => sessionInTrack.meta._wcpt_session_time\n\t\t);\n\n\t\tconst indexOfNextSession = _.findIndex(\n\t\t\tsessionsInTrack,\n\t\t\t( session ) => now < new Date( session.meta._wcpt_session_time * 1000 )\n\t\t);\n\n\t\tconst nextSession = sessionsInTrack[ indexOfNextSession ];\n\t\tconst nowSession = sessionsInTrack[ indexOfNextSession - 1 ];\n\n\t\treturn {\n\t\t\ttrack,\n\t\t\tnow: nowSession,\n\t\t\tnext: nextSession,\n\t\t};\n\t} );\n\trenderSchedule( tracks );\n};\n\nconst renderSchedule = ( tracks ) => {\n\n\tconst onNow = document.getElementById( 'on-now' );\n\tconst upNext = document.getElementById( 'up-next' );\n\n\tonNow.innerHTML = '';\n\tupNext.innerHTML = '';\n\n\ttracks.forEach( ( track ) => {\n\t\trenderSession( track.now, track.track, onNow );\n\t\trenderSession( track.next, track.track, upNext );\n\t} );\n\n};\n\nconst renderSession = ( session, track, container ) => {\n\n\tconst sessionContainer = document.createElement( 'div' );\n\tsessionContainer.setAttribute( 'class', 'wordcamp-schedule-session' );\n\n\trenderSessionTitle( session, sessionContainer );\n\trenderSessionTime( session, sessionContainer );\n\trenderSessionTrack( track, sessionContainer );\n\trenderSessionSpeakers( session, sessionContainer );\n\trenderSessionCategory( session, sessionContainer );\n\n\tcontainer.appendChild( sessionContainer );\n\n};\n\nconst renderSessionTime = ( session, container ) => {\n\tconst time = document.createElement( 'span' );\n\ttime.setAttribute( 'class', 'wordcamp-schedule-session-time' );\n\ttime.innerHTML = session.session_date_time.time;\n\tcontainer.appendChild( time );\n};\n\nconst renderSessionTitle = ( session, container ) => {\n\n\tconst title = document.createElement( 'h4' );\n\ttitle.setAttribute( 'class', 'wordcamp-schedule-session-title' );\n\n\tconst titleLink = document.createElement( 'a' );\n\ttitleLink.setAttribute( 'href', session.link );\n\ttitleLink.innerHTML = session.title.rendered;\n\n\ttitle.appendChild( titleLink );\n\tcontainer.appendChild( title );\n\n};\n\nconst renderSessionTrack = ( track, container ) => {\n\tconst trackName = document.createElement( 'span' );\n\ttrackName.setAttribute( 'class', 'wordcamp-schedule-session-track' );\n\ttrackName.innerHTML = track.name;\n\tcontainer.appendChild( trackName );\n};\n\nconst renderSessionSpeakers = ( session, container ) => {\n\n\tconst speakers = document.createElement( 'span' );\n\tspeakers.setAttribute( 'class', 'wordcamp-schedule-session-speaker' );\n\n\tif ( session._embedded.speakers ) {\n\t\tsession._embedded.speakers.forEach( ( speaker ) => {\n\t\t\tconst speakerLink = document.createElement( 'a' );\n\t\t\tspeakerLink.setAttribute( 'href', speaker.link );\n\t\t\tspeakerLink.innerHTML = speaker.title.rendered;\n\t\t\tspeakers.appendChild( speakerLink );\n\t\t} );\n\t}//end if\n\n\tcontainer.appendChild( speakers );\n\n};\n\nconst renderSessionCategory = ( session, container ) => {\n\n\tconst category = document.createElement( 'span' );\n\tcategory.setAttribute( 'class', 'wordcamp-schedule-session-category' );\n\n\tconst terms = _.keyBy( _.flatten( session._embedded[ 'wp:term' ] ), 'id' );\n\tif ( session.session_category.length > 0 ) {\n\t\tconst sc = session.session_category[ 0 ];\n\t\tconst term = terms[ sc ];\n\t\tcategory.innerHTML = term.name;\n\t}//end if\n\n\tcontainer.appendChild( category );\n\n};\n\nconst renderLatestPosts = ( posts ) => {\n\tconst container = document.getElementById( 'latest-posts' );\n\tcontainer.innerHTML = '';\n\n\tposts.forEach( ( post ) => {\n\t\trenderPost( post, container );\n\t} );\n};\n\nconst renderPost = ( post, container ) => {\n\tconst postContainer = document.createElement( 'div' );\n\tpostContainer.setAttribute( 'class', 'wordcamp-latest-post' );\n\n\trenderPostDate( post, postContainer );\n\trenderPostTitle( post, postContainer );\n\trenderPostExcerpt( post, postContainer );\n\trenderPostCategories( post, postContainer );\n\n\tcontainer.appendChild( postContainer );\n};\n\nconst renderPostDate = ( post, container ) => {\n\tconst postDate = document.createElement( 'span' );\n\tpostDate.setAttribute( 'class', 'wordcamp-latest-post-date' );\n\tpostDate.innerHTML = new Date( post.date_gmt ).toLocaleDateString();\n\tcontainer.appendChild( postDate );\n};\n\nconst renderPostTitle = ( post, container ) => {\n\n\tconst title = document.createElement( 'h4' );\n\ttitle.setAttribute( 'class', 'wordcamp-latest-post-title' );\n\n\tconst titleLink = document.createElement( 'a' );\n\ttitleLink.setAttribute( 'href', post.link );\n\ttitleLink.innerHTML = post.title.rendered;\n\n\ttitle.appendChild( titleLink );\n\tcontainer.appendChild( title );\n\n};\n\nconst renderPostExcerpt = ( post, container ) => {\n\tconst excerpt = document.createElement( 'span' );\n\texcerpt.setAttribute( 'class', 'wordcamp-latest-post-excerpt' );\n\texcerpt.innerHTML = post.excerpt.rendered;\n\tcontainer.appendChild( excerpt );\n};\n\nconst renderPostCategories = ( post, container ) => {\n\n\tconst categories = document.createElement( 'span' );\n\tcategories.setAttribute( 'class', 'wordcamp-latest-post-categories' );\n\n\tconst terms = _.keyBy( _.flatten( post._embedded[ 'wp:term' ] ), 'id' );\n\tif ( post.categories.length > 0 ) {\n\t\tpost.categories.forEach( ( c ) => {\n\t\t\tconst term = terms[ c ];\n\n\t\t\tconst category = document.createElement( 'a' );\n\t\t\tcategory.setAttribute( 'href', term.link );\n\t\t\tcategory.innerHTML = term.name;\n\n\t\t\tcategories.appendChild( category );\n\t\t} );\n\t}//end if\n\n\tcontainer.appendChild( categories );\n\n};\n\nconst init = () => {\n\tPromise.all( [\n\t\tfetch( apiRoot + 'wp/v2/sessions?status=publish&_embed=true&per_page=100' ).then( ( response ) => response.json() ),\n\t\tfetch( apiRoot + 'wp/v2/session_track?status=publish&per_page=100' ).then( ( response ) => response.json() ),\n\t\tfetch( apiRoot + 'wp/v2/posts?status=publish&_embed=true&per_page=3' ).then( ( response ) => response.json() ),\n\t] )\n\t\t.then( ( data ) => {\n\t\t\tprocessAndRenderScheduleData( {\n\t\t\t\tsessions: data[ 0 ],\n\t\t\t\ttracks: data[ 1 ],\n\t\t\t} );\n\t\t\trenderLatestPosts( data[ 2 ] );\n\t\t} )\n\t\t.catch( ( error ) => {\n\t\t\tconsole.log( 'Error: ', error );\n\t\t} );\n};\ninit();\nsetInterval( init, 60 * 1000 );\n","module.exports = lodash;"],"sourceRoot":""}